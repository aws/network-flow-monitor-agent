#!/bin/bash

set -o errexit
set -o pipefail
set -o nounset

# The environment values in this file are used to allow an operator to control
# a distributed load test.
export PATH=/usr/sbin:/sbin:/usr/local/sbin:$PATH

# New SSM-based configuration
# Space-separated list of EC2 instance IDs (populated by create-instances script)
LOAD_TEST_INSTANCE_IDS=' i-0f79e213164dc9595 i-0e7ba375b3e6c2989 i-00ebeabb97c34f3ac i-056a75a31d6b21f50 i-096cde52f345b8e2d i-0ed29f56e4c2c1715'
# S3 bucket for distributing test artifacts
LOAD_TEST_S3_BUCKET='network-flow-monitor-agent-perf-test-artifacts'

# setup test config
LOAD_TEST_TPS_STEPS='10000,20000,30000,40000,50000,60000,70000,80000,90000,100000'

# if set to anything other than empty, following will add a heavy loss & delay on the traffic
LOAD_TEST_ENABLE_NETWORK_LOSS=''

# Color definitions
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
ORANGE="\033[0;33m"
CYAN="\033[1;36m"
NC='\033[0m' # No Color

# Logging function with timestamp
log() {
    echo -e "[$(date '+%H:%M:%S')] $*"
}